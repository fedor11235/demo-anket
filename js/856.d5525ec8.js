"use strict";(self["webpackChunklibrary"]=self["webpackChunklibrary"]||[]).push([[856,92,288],{7092:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.timer?t("div",{staticClass:"timer"},[t("span",{ref:"timerCount"})]):e._e()},l=[],n={props:["timer","isHeader"],data(){return{countdown:null}},methods:{addTimeInHtml(e){if(this.$refs.timerCount){this.$refs.timerCount.innerHTML="";const t=e.split("");for(const e of t){const t=document.createElement("div");e.includes(":")||t.classList.add("timer-symbol"),t.innerHTML=e,this.$refs.timerCount.appendChild(t)}}else{const e="00:00:00",t=e.split("");for(const s of t){const e=document.createElement("div");s.includes(":")||e.classList.add("timer-symbol"),e.innerHTML=s,this.$refs.timerCount.appendChild(e)}clearInterval(this.countdown)}},startTimer(){const e=new Date,t=e.setMinutes(e.getMinutes()+this.timer);this.countdown=setInterval((()=>{const e=(new Date).getTime(),s=t-e,i=String(Math.floor(s%36e5/36e5)).padStart(2,"0"),l=String(Math.floor(s%36e5/6e4)).padStart(2,"0"),n=String(Math.floor(s%6e4/1e3)).padStart(2,"0"),a=i+":"+l+":"+n;this.addTimeInHtml(a),s<0&&(clearInterval(this.countdown),this.$refs.timerCount.innerHTML="")}),1e3)}},mounted(){this.timer&&this.startTimer()},deactivated(){this.timer&&clearInterval(this.countdown)}},a=n,r=s(1656),o=(0,r.A)(a,i,l,!1,null,"26597c6e",null),c=o.exports},1288:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("label",{staticClass:"question__element question__element--dif",on:{click:function(t){return t.preventDefault(),e.clickDifficult.apply(null,arguments)}}},[t("div",{staticClass:"question__element-text"},[e._v("Затрудняюсь ответить")]),t("input",{attrs:{name:"radio",type:"radio"}}),t("CustomInput")],1)},l=[],n=s(5470),a={components:{CustomInput:n.A},props:{question:{type:Object}},methods:{clickDifficult(e){if(this.question.disabled=!this.question.disabled,this.question.options&&this.question.selectedOption){if(Array.isArray(this.question.selectedOption)){let e=document.querySelector(".question__element.question__element--textarea");e&&(e.style.display="block")}else this.question.selectedOption=null;let e=document.querySelectorAll(".dropdown__text");e[this.question.id].classList.remove("dropdown__text--active"),document.querySelectorAll(".dropdown-item").forEach((e=>{e.classList.remove("dropdown-item--active")}))}e.currentTarget.classList.toggle("question__element--active")}}},r=a,o=s(1656),c=(0,o.A)(r,i,l,!1,null,"12842254",null),u=c.exports},6258:function(e,t,s){s.d(t,{A:function(){return m}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-title"},[e.no?t("div",{staticClass:"question-title__number"},[e._v("Вопрос № "+e._s(e.no))]):e._e(),t("div",{staticClass:"question-title__block"},[t("div",{staticClass:"question-title__block-item"},[e.title?t("div",{staticClass:"question-title__title"},[e._v(" "+e._s(e.title)+" "),e.required?t("span",[e._v("*")]):e._e()]):e._e(),e.description?t("div",{staticClass:"question-title__descr"},[e._v(" "+e._s(e.description)+" ")]):e._e(),e.comments?t("div",{staticClass:"question-title__comment",domProps:{innerHTML:e._s(e.comments)}}):e._e()]),t("div",{staticClass:"question-title__block-item"},[e.timer?t("TimerControl",{attrs:{timer:e.timer}}):e._e()],1)]),e.img?t("div",{staticClass:"question-title__img"},[t("img",{attrs:{src:`${e.img}`,alt:""}}),t("a",{ref:"linkImg",staticClass:"question-title__img-popup",attrs:{href:`${e.img}`}},[t("i")])]):e._e()])},l=[],n=s(7092),a=s(6587),r=s.n(a),o={props:["no","title","description","comments","img","timer","required"],data(){return{countdown:null}},components:{TimerControl:n["default"]},mounted(){this.$question=r()(this.$refs.linkImg),this.$question.fancybox({})}},c=o,u=s(1656),d=(0,u.A)(c,i,l,!1,null,null,null),m=d.exports},2856:function(e,t,s){s.d(t,{A:function(){return b}});var i=function(){var e=this,t=e._self._c;return t("div",{class:[`question question--${e.selects.type} question--${e.selects.col}cols`,{"question--disabled":e.values.disabled,"question--error":e.isError}]},[e.isError?[t("FieldError",{attrs:{text:"Нет ответа на обязательный вопрос"}})]:e._e(),t("QuestionTitle",{attrs:{no:e.questionNumber,title:e.title,description:e.description,comments:e.comments,img:e.img,required:e.required}}),t("div",{staticClass:"question-list-wrapper"},[t("div",{class:`question-list question-list--${e.selects.col}cols`},e._l(e.selects.options,(function(s){return t("div",{key:s.id,staticClass:"contnet"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.values.values[s.title],expression:"values.values[select.title]"}],ref:"input",refInFor:!0,class:["text-input",{"input--error":e.isError}],attrs:{readonly:"date"===e.selects.type,type:"text",placeholder:s.title},domProps:{value:e.values.values[s.title]},on:{click:function(t){return e.handlerClick(t,e.selects.type)},input:function(t){t.target.composing||e.$set(e.values.values,s.title,t.target.value)}}}),"date"===e.selects.type&&e.isOpenModalDate?t("ModalDate",{on:{selectDay:function(t){return e.handlerSelectDate(s.title,t)}}}):e._e()],1)})),0)]),e.questionDifficult?t("DifficultControl",{attrs:{question:e.values}}):e._e()],2)},l=[],n=s(6258),a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"field-error"},[t("div",{staticClass:"field-error__attention"},[e._v("!")]),t("div",{staticClass:"field-error__text"},[e._v(e._s(e.text))])])},r=[],o={props:{text:String}},c=o,u=s(1656),d=(0,u.A)(c,a,r,!1,null,"99e64d4e",null),m=d.exports,p=s(1288),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-date"},[t("div",{staticClass:"modal-date__header"},[t("div",{staticClass:"modal-date__arrow modal-date__arrow--prev",on:{click:e.handlerPrevYear}},[t("i")]),t("div",{class:["modal-date__select",{"modal-date__select--open":e.isOpenDropdawnMonth}],on:{click:function(t){e.isOpenDropdawnMonth=!e.isOpenDropdawnMonth}}},[t("div",{staticClass:"modal-date__option"},[t("div",{staticClass:"modal-date__option-title"},[e._v(e._s(e.selectMonth.title))]),t("i",{staticClass:"modal-date__option-icon"})]),e.isOpenDropdawnMonth?t("div",{staticClass:"modal-date__select-dropdown"},e._l(e.optionsMonth,(function(s){return t("div",{key:s.id,staticClass:"modal-date__select-dropdown-item",on:{click:function(t){e.selectMonth=s}}},[e._v(" "+e._s(s.title)+" ")])})),0):e._e()]),t("div",{class:["modal-date__select",{"modal-date__select--open":e.isOpenDropdawnYear}],on:{click:function(t){e.isOpenDropdawnYear=!e.isOpenDropdawnYear}}},[t("div",{staticClass:"modal-date__option"},[t("div",{staticClass:"modal-date__option-title"},[e._v(e._s(e.selectYear.title))]),t("i",{staticClass:"modal-date__option-icon"})]),e.isOpenDropdawnYear?t("div",{staticClass:"modal-date__select-dropdown",on:{scroll:e.handlersScrollYear}},e._l(e.optionsYear,(function(s){return t("div",{key:s.id,staticClass:"modal-date__select-dropdown-item",on:{click:function(t){e.selectYear=s}}},[e._v(" "+e._s(s.title)+" ")])})),0):e._e()]),t("div",{staticClass:"modal-date__arrow modal-date__arrow--next",on:{click:e.handlerNextYear}},[t("i")])]),t("div",{staticClass:"modal-date__body"},[e._l(e.optionsDaysWeek,(function(s){return t("div",{key:s,staticClass:"modal-date__body-name"},[e._v(" "+e._s(s)+" ")])})),e._l(e.optionsDaysDays,(function(s,i){return t("div",{key:i,class:["number",{"number--empty":"empty"===s.type,"number--active":s.month===e.selectDay.month&&s.year===e.selectDay.year&&s.number===e.selectDay.number}],on:{click:function(t){return e.handlerSelectDay(s)}}},[e._v(" "+e._s(s.number)+" ")])}))],2)])},_=[],h=(s(4114),{data(){return{isOpenDropdawnMonth:!1,isOpenDropdawnYear:!1,yearNumber:7,selectMonth:{id:0,value:0,title:"Январь"},selectYear:{id:0,value:2024,title:2024},selectDay:{},optionsMonth:[{id:0,value:0,title:"Январь"},{id:1,value:1,title:"Февраль"},{id:2,value:2,title:"Март"},{id:3,value:3,title:"Апрель"},{id:4,value:4,title:"Май"},{id:5,value:5,title:"Июнь"},{id:6,value:6,title:"Июль"},{id:7,value:7,title:"Август"},{id:8,value:8,title:"Сентябрь"},{id:9,value:9,title:"Октябрь"},{id:10,value:10,title:"Ноябрь"},{id:11,value:11,title:"Декабрь"}],optionsDaysWeek:["пн","вт","ср","чт","пт","сб","вс"]}},computed:{optionsYear(){const e=[];for(let t=0;t<this.yearNumber;t++)e.push({id:t,value:2024-t,title:2024-t});return e},optionsDaysDays(){const e=32-new Date(this.selectYear.value,this.selectMonth.value,32).getDate(),t=new Date(this.selectYear.value,this.selectMonth.value,0).getDay(),s=[];for(let l=1;l<=e;l++)s.push({number:l,month:this.selectMonth.value,year:this.selectYear.value});if(0!==t)if(0===this.selectMonth.value){const e=32-new Date(this.selectYear.value-1,11,32).getDate();for(let i=0;i<t;i++)s.unshift({number:e-i,type:"empty"})}else{const e=32-new Date(this.selectYear.value,this.selectMonth.value-1,32).getDate();for(let i=0;i<t;i++)s.unshift({number:e-i,type:"empty"})}const i=new Date(this.selectYear.value,this.selectMonth.value,e).getDay();if(6===i)return s;for(let l=1;l<=7-i;l++)s.push({number:l,type:"empty"});return s}},methods:{handlerSelectDay(e){this.selectDay=e,this.$emit("selectDay",e)},handlersScrollYear(e){e.target.scrollHeight===e.target.scrollTop+e.target.clientHeight&&(this.yearNumber+=7)},handlerPrevYear(){this.selectYear.id+=1,this.selectYear.value-=1,this.selectYear.title-=1},handlerNextYear(){0!==this.selectYear.id&&(this.selectYear.id-=1,this.selectYear.value+=1,this.selectYear.title+=1)}}}),f=h,y=(0,u.A)(f,v,_,!1,null,"52cd3303",null),D=y.exports,q={components:{QuestionTitle:n.A,DifficultControl:p["default"],FieldError:m,ModalDate:D},props:["questionNumber","title","description","comments","img","required","questionDifficult","selects","value","questionsTypes"],data(){return{isSelect:!1,isError:!1,isOpenModalDate:!1,values:{disabled:!1,values:{}}}},watch:{values:{handler(e){if(this.$emit("input",{questionsTypes:this.questionsTypes,values:e}),this.selects.required&&!e.values[this.selects.required])return this.isError=!0,this.isSelect=!1,void this.$emit("clean");this.isError=!1;for(const t of Object.keys(e.values))if(e.values[t]||this.selects.disabled){if(this.isSelect)return;return this.isSelect=!0,void this.$emit("finish")}this.isSelect=!1,this.$emit("clean")},deep:!0}},methods:{formatDate(e){let t=e.getDate();t<10&&(t="0"+t);let s=e.getMonth()+1;s<10&&(s="0"+s);const i=e.getFullYear();return t+"."+s+"."+i},handlerSelectDate(e,t){const s=new Date(t.year,t.month,t.number);this.values.values[e]=this.formatDate(s)},handlerInput(e,t,s){"date"!==t?this.values.values[s]=e.target.value:e.preventDefault()},handlerClick(e,t){if("date"===t)return e.preventDefault(),void(this.isOpenModalDate=!this.isOpenModalDate)}}},C=q,w=(0,u.A)(C,i,l,!1,null,"46fd751a",null),b=w.exports}}]);
//# sourceMappingURL=856.d5525ec8.js.map